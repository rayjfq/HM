<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Medicos</title>
    <link rel="stylesheet" href="/static/style.css"> <!-- Enlace al CSS -->
</head>
<body class="dashboard-body">
    <div class="dashboard-container">
            <!-- Navbar -->
            <nav class="navbar">
                <div class="logo">
                    <img src="/static/logo.jpeg" alt="Logo" class="logo-img">
                    <h1>Panel de Administración</h1>
                </div>
                <ul class="nav-menu">
                    <li class="menu-item">
                        <a href="/dashboard">Inicio</a>
                    </li>
                    <li class="menu-item dropdown">
                        <a href="#">Gestión de Usuarios</a>
                        <ul class="dropdown-menu">
                            <li><a href="#" onclick="showModal('create-user-modal')">Crear Usuario</a></li>
                            <li><a href="/list_users">Listar Usuarios</a></li>
                        </ul>
                    </li>
                    <li class="menu-item dropdown">
                        <a href="#">Gestión de Pacientes</a>
                        <ul class="dropdown-menu">
                            <li><a href="#" onclick="showModal('add-patient-modal')">Agregar Paciente</a></li>
                            <li><a href="{{ url_for('patients.list_patients') }}">Listar Pacientes</a></li>
                        </ul>
                    <li class="menu-item dropdown">
                        <a href="#">Gestión de Médicos</a>
                        <ul class="dropdown-menu">
                            <li><a href="#" onclick="showModal('add-doctor-modal')">Agregar Médico</a></li>
                            <li><a href="{{ url_for('doctors.list_doctors') }}">Listar Médicos</a></li>
                        </ul>
                    </li>
                    <li class="menu-item dropdown">
                        <a href="#">Historias Médicas</a>
                        <ul class="dropdown-menu">
                            <li><a href="#" onclick="showModal('create-history-modal')">Crear Historia</a></li>
                            <li><a href="{{ url_for('observations.buscar_history') }}">Buscar Historia Médica</a></li>
                            <li><a href="{{ url_for('histories.list_history') }}">Listar Historias</a></li>
                         </ul>
                    </li>   
                    <li class="menu-item logout">
                        <a href="/logout">Cerrar Sesión</a>
                    </li>
                </ul>
            </nav>
        <!-- Contenido principal -->
        <main class="main-content">
            <header class="header">
                <h2>Lista de Pacientes</h2>
            </header>
            <section class="content">
                <table class="user-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nombre</th>
                            <th>Apellido</th>
                            <th>Edad</th>
                            <th>Sexo</th>
                            <th>Fecha de Nacimiento</th>
                            <th>Registro</th>
                            <th>Diagnostico inicial</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for patient in patients %}
                        <tr>
                            <td>{{ patient[0] }}</td>
                            <td>{{ patient[1] }}</td>
                            <td>{{ patient[2] }}</td>
                            <td>{{ patient[3] }}</td>
                            <td>{{ patient[4] }}</td>
                            <td>{{ patient[5] }}</td>
                            <td>{{ patient[6] }}</td>
                            <td>{{ patient[7] }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </section>
            <footer class="footer">
                <p>&copy; 2025 Historia Médica. Todos los derechos reservados.</p>
            </footer>
        </main>
    </div>
    <div id="modals-container"></div>
    <script src="/static/js/dashboard.js"></script>
    <script>

        fetch('/static/modals.html')
        .then(response => response.text())
        .then(html => {
            document.getElementById('modals-container').innerHTML = html;
        });
    </script>
    <script src="/static/js/dashboard.js"></script>
</body>
</body>
</html>
